<div>
	<form ngForm #f="ngForm" (ngSubmit)="getModels(f)">

		<div class="form-group">
			<label for="model-name">Table name</label>
			<select
					[(ngModel)]="modelName"
					name="model"
					id="model-name"
					class="form-control"
					(change)="getModels()"
			>
				<option *ngFor="let m of models" [value]="m">{{m}}</option>
			</select>
		</div>

		<button type="button"
		        (click)="readState(f)"
		>State
		</button>&nbsp;

		<button type="submit">Submit</button>

	</form>
</div>

<ng-template #loading>
	<div>Loading...</div>
</ng-template>

<div style="overflow-x: scroll" *ngIf="ownData.length > 0 else loading">
	<table class="table">
		<thead>
		<tr>
			<td>Actions</td>
			<td *ngFor='let prop of ownData[0] | values'>
				{{prop}}
			</td>
		</tr>
		</thead>
		<tbody>
		<tr *ngFor="let item of ownData; let isEven=even" [style.background-color]="isEven ? '#ebebeb' : '#fff'">
			<td>
				<button class="btn">Edit</button>
				<button class="btn">Delete</button>
			</td>
			<td *ngFor='let prop of item | values'>
				<span *ngIf="isType(item[prop], 'string')">{{item[prop]}}</span>
				<ul *ngIf="isType(item[prop], 'array')">
					<li *ngFor='let subItem of item[prop]'>
						<div *ngFor='let p of subItem | values'>
							{{p}} : {{subItem[p]}}
						</div>
					</li>
				</ul>
			</td>
		</tr>
		</tbody>
	</table>
</div>